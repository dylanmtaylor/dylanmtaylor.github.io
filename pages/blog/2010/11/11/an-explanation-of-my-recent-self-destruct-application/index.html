<!DOCTYPE HTML>
<head>
	<title>Dylan Taylor's Personal Blog - An Explanation of My Recent &quot;Self Destruct&quot; Application</title>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<link rel="stylesheet" href="/css/style.css"  type="text/css" media="all" />
	<link rel="stylesheet" href="/css/syntax.css" type="text/css" media="all" />
	<link rel="stylesheet" href="/css/tablet.css" type="text/css" media="screen and (min-width:651px) and (max-width: 1024px), screen and (min-device-width: 768px) and (max-device-width: 1024px)" />
	<link rel="stylesheet" href="/css/mobile.css" type="text/css" media="handheld, screen and (max-width: 650px), screen and (max-device-width: 480px)" />
	<link rel="icon" href="/images/favicon.png">
	<meta name="author" content="Dylan Taylor" />
	<!--<script src="https://code.jquery.com/jquery-2.1.3.min.js" data-cfasync='true'></script>
	<script src="/js/main.js"></script>-->
</head>
<body>
	<div class="left">
		<div class="logo_header">
    <a href="/" target="_top" class="logo">
        <img src="/images/circle.png">
        <span id="top_heading">Dylan Taylor&#39;s</span>
        <span id="btm_heading">Personal Homepage</span>
    </a>
</div>
<strong>Site Navigation:</strong><br>
<ul>
    <li>
        <a class="navlink" href="/pages/full/home/">Home</a>
    </li>
    <li>
        <a class="navlink" href="/pages/full/about-me/">About Me</a>
    </li>
    <li>
        <a class="navlink" href="/pages/blog/">Blog</a>
    </li>
    <li>
        <a class="navlink" href="/pages/full/contact/">Contact</a>
    </li>
    <li>
        <a class="navlink" href="/pages/full/donate/">Donate</a>
    </li>
    <li>
        <a class="navlink" href="https://github.com/dylanmtaylor">GitHub Page</a>
    </li>
    <!--<li>
        <a class="navlink" href="/pages/portfolio/">Portfolio</a>
    </li>-->
    <li>
        <a class="navlink" href="https://docs.google.com/document/d/1wbtX3Tmg22MkOzlDZgbTHs_eUeMT-Eu5mjoEq7xfCf4/view">R&eacute;sum&eacute;</a>
    </li>
</ul><br>
<em class="footer"><a href="https://github.com/dylanmtaylor/dylanmtaylor.github.io">This site is 100% open source</a><br /><br /><center /><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/images/by-sa.svg" /></a></center></em>

	</div>
	<div class="pagecontent" id="pagecontent">
		<div class="site">
			<div class="title"><h2><a href="/pages/blog");'>Dylan Taylor's Personal Blog</a></h2></div>
			<div class="subtitle">A technology blog with updates about my projects, <br/>as well as interesting tricks, tips, news, and tutorials.</div>
			<div id="post">
	<h1>An Explanation of My Recent &quot;Self Destruct&quot; Application</h1>
	<p class="meta">11 Nov 2010</p>
	<p><a href="/?attachment_id=857"><img class="alignleft size-thumbnail wp-image-857" title="Self Destruct Icon" src="/images/blog/2010/11/skull-and-crossbones-redish2-150x150.png" alt="" width="150" height="150" /></a>"<span class="zem_slink">Self Destruct</span>" is simply an <a class="zem_slink" title="Application software" rel="wikipedia" href="http://en.wikipedia.org/wiki/Application_software">application</a> I made for fun, as a <a class="zem_slink" title="Proof of concept" rel="wikipedia" href="http://en.wikipedia.org/wiki/Proof_of_concept">proof of concept</a>. This application demonstrates a way to create an application that is able to "destroy" itself, preventing it from running until it is uninstalled, and then reinstalled later. I'd like to personally thank <a href="http://blog.handlerexploit.com/">HandlerExploit</a> for giving me a hint about how to do this (he mentioned that he found the trick in the provisioning code). HandlerExploit uses a similar technique in his application, "iBrick Proof of Concept". As soon as the user opens the application, it removes it's main class from the <a class="zem_slink" title="Dalvik (software)" rel="wikipedia" href="http://en.wikipedia.org/wiki/Dalvik_%28software%29">Dalvik</a> <a class="zem_slink" title="Package management system" rel="wikipedia" href="http://en.wikipedia.org/wiki/Package_management_system">package manager</a>, preventing itself from being able to run again. The only way to run the application again after opening it is to uninstall the application, and reinstall it. This application serves no real purpose other than to demonstrate an interesting trick, and it is not malicious in any way. Please note that after running the application, it's icon will remain in the launcher, although you won't be able to open it. Uninstalling the application will remove the icon. I'd release the entire <a class="zem_slink" title="Source code" rel="wikipedia" href="http://en.wikipedia.org/wiki/Source_code">source code</a> for this application, but really, the only part that actually matters is the part that removes the class from Dalvik and prevents the application from running again. Interestingly, this application requires absolutely no permissions, at all in order to do this. In case you are interested in how I did this, here is the source code for the main class in the project:</p>
<pre>package com.dylantaylor.selfdestruct;
import android.app.Activity;
import android.content.ComponentName;
import android.content.pm.PackageManager;
import android.os.Bundle;

public class Main extends Activity {
    /** Called when the activity is first created. */
    @Override
    public void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);
        PackageManager pm = getPackageManager(); ComponentName name = new ComponentName(this, Main.class);
        pm.setComponentEnabledSetting(name, PackageManager.COMPONENT_ENABLED_STATE_DISABLED, 0);
    }
}</pre>
<p>Yes, I realize that this application serves no real purpose, but it's just something interesting that I made for fun. If you don't want it, don't download it. Otherwise, have fun! :)</p>
<p><strong>P.S.</strong> Do whatever you want with that source code, it's virtually worthless to me anyways.</p>


    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <g:plusone></g:plusone>

</div>



<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>10 May 2015</span> <span class="seperator">~</span> <a href="/pages/blog/2015/05/10/Site-Now-Automatically-Built-With-Travis-CI/");'>Site Now Automatically Built With Travis CI</a></li>
    
      <li><span>20 Apr 2015</span> <span class="seperator">~</span> <a href="/pages/blog/2015/04/20/Blog-Migrated-from-Wordpress-to-Jekyll/");'>Site Migrated from Wordpress to Custom Code and Jekyll</a></li>
    
      <li><span>06 Jul 2014</span> <span class="seperator">~</span> <a href="/pages/blog/2014/07/06/my-domain-is-now-registered-with-iwantmyname/");'>My Domain is Now Registered With iWantMyName</a></li>
    
      <li><span>04 Jul 2014</span> <span class="seperator">~</span> <a href="/pages/blog/2014/07/04/goodbye-dropbox-hello-owncloud/");'>Goodbye Dropbox, Hello OwnCloud.</a></li>
    
  </ul>
</div>


<div class="comments">
	<h3>Comments</h3>
	<noscript>Please enable JavaScript to view the comments</noscript>
	<div id="disqus_thread"></div>
</div>
<script type="text/javascript">
    var disqus_shortname = 'dylanmtaylor'; 
    var disqus_identifier = '/2010/11/11/an-explanation-of-my-recent-self-destruct-application';
    var disqus_url = 'http://dylanmtaylor.com/2010/11/11/an-explanation-of-my-recent-self-destruct-application/';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

			<div class="blogfooter">
				<div class="contact">
					<p>
						Dylan Taylor<br/>
						Software Engineer<br/>
					</p>
				</div>
				<div class="contact">
					<p>
						<a href="http://dylanmtaylor.com/">dylanmtaylor.com</a><br/>
						<a href="http://github.com/dylanmtaylor/">github.com/dylanmtaylor</a><br />
					</p>
				</div>
			</div>
		</div>
	</div>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/instantclick/3.0.1/instantclick.min.js" data-no-instant></script>
	<script data-no-instant>InstantClick.init();</script>
</body>
<html>
