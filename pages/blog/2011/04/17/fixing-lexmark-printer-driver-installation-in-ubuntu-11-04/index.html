<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-gb">
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8" />
	<title>Fixing Lexmark Printer Driver Installation in Ubuntu 11.04</title>
	<meta name="author" content="Dylan Taylor" /><!-- Thanks to Roger Chapman for the layout -->
	<link rel="stylesheet" href="/pages/blog/css/syntax.css" type="text/css" media="all" />
	<link rel="stylesheet" href="/pages/blog/css/screen.css" type="text/css" media="all" />
	<link rel="stylesheet" href="/pages/blog/css/tablet.css" type="text/css" media="screen and (min-width:651px) and (max-width: 1024px), screen and (min-device-width: 768px) and (max-device-width: 1024px)" />
	<link rel="stylesheet" href="/pages/blog/css/mobile.css" type="text/css" media="handheld, screen and (max-width: 650px), screen and (max-device-width: 480px)" />
  	<script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
  	<script src="/js/main.js" data-cfasync="false"></script>
</head>
<body onload='prepare();'>
	<div class="site">
		<div class="title"><h2><a href="#" onclick='go("/pages/blog");'>Dylan Taylor's Personal Blog</a></h2></div>
		<div class="subtitle">A technology blog with updates about my projects, <br/>as well as interesting tricks, tips, news, and tutorials.</div>
		<div id="post">
	<h1>Fixing Lexmark Printer Driver Installation in Ubuntu 11.04</h1>
	<p class="meta">17 Apr 2011</p>
	<p>Recently I just installed the <a class="zem_slink" title="Lexmark" rel="homepage" href="http://www.lexmark.com/">Lexmark</a> <a class="zem_slink" title="Printer driver" rel="wikipedia" href="http://en.wikipedia.org/wiki/Printer_driver">printer driver</a> in my 64-bit <a class="zem_slink" title="List of Ubuntu releases" rel="homepage" href="http://www.ubuntu.com/">Ubuntu 11.04</a> installation. As you may or may not notice, the installer is broken by default in Ubuntu 11.04, and it just exits with an error message, saying</p>
<blockquote><p><a class="zem_slink" title="Lua (programming language)" rel="homepage" href="http://www.lua.org">Lua</a> error detected: While parsing install.lua: config/run.lua:1374: attempt to index global 'ownhership' (a nil value)</p></blockquote>
<p>After playing with the installer, I finally got it to work <em>perfectly</em>, so I emailed the Lexmark support team to let them know how to fix this, but for now, I'm going to share what you need to do on my blog.</p>
<p>First, you need to extract the files for the installer. To do this, you need to run</p>
<blockquote><p>./lexmark-inkjet-legacy-wJRE-1.0-1.amd64.deb.sh --noexec --keep</p></blockquote>
<p>It's worth noting that there are two hyphens before noexec and keep. Once you run that command, the files for the installer will be extracted to the tmp folder in the <a class="zem_slink" title="Working directory" rel="wikipedia" href="http://en.wikipedia.org/wiki/Working_directory">current working directory</a>. For now, just type <strong>cd tmp</strong> and press enter. Now, open up a text editor, such as gedit and navigate to the config folder in the tmp folder we just extracted. Open up the file "run.lua". The problem is that Lexmark misspelled ownership as ownhership, which broke the installer. Around line 1484, you will find a line that says</p>
<blockquote><p>if tonumber(ownhership[1]) == 0 then</p></blockquote>
<p>delete the errant h in the word ownership and save the file. Now, go back to your terminal and run <strong>sudo sh startupinstaller.sh</strong> in the tmp folder. The installer will work as expected now.</p>
<p>Update: Special thanks toÂ Mathieu Triclot for your $5 donation! Glad I could help! :)</p>
<div class="zemanta-pixie" style="margin-top: 10px; height: 15px;"><img class="zemanta-pixie-img" style="border: none; float: right;" src="/images/blog/2011/06/pixy12.gif" alt="" /></div>


    <script type="text/javascript" src="https://apis.google.com/js/plusone.js"></script>
    <g:plusone></g:plusone>

</div>



<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>20 Apr 2015</span> <span class="seperator">~</span> <a href="#" onclick='go("/pages/blog/2015/04/20/Blog-Migrated-from-Wordpress-to-Jekyll/");'>Site Migrated from Wordpress to Custom Code and Jekyll</a></li>
    
      <li><span>06 Jul 2014</span> <span class="seperator">~</span> <a href="#" onclick='go("/pages/blog/2014/07/06/my-domain-is-now-registered-with-iwantmyname/");'>My Domain is Now Registered With iWantMyName</a></li>
    
      <li><span>04 Jul 2014</span> <span class="seperator">~</span> <a href="#" onclick='go("/pages/blog/2014/07/04/goodbye-dropbox-hello-owncloud/");'>Goodbye Dropbox, Hello OwnCloud.</a></li>
    
      <li><span>27 Jun 2014</span> <span class="seperator">~</span> <a href="#" onclick='go("/pages/blog/2014/06/27/speed-up-your-site-with-instant-click/");'>Speed Up Your Site With Instant Click</a></li>
    
  </ul>
</div>




<div class="comments">
	<h3>Comments</h3>
	<noscript>Please enable JavaScript to view the comments</noscript>
	<div id="disqus_thread"></div>
</div>

		<div class="footer">
			<div class="contact">
				<p>
					Dylan Taylor<br/>
					Software Engineer<br/>
				</p>
			</div>
			<div class="contact">
				<p>
					<a href="http://dylanmtaylor.com/">dylanmtaylor.com</a><br/>
					<a href="http://github.com/dylanmtaylor/">github.com/dylanmtaylor</a><br />
				</p>
			</div>
		</div>
	</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/instantclick/3.0.1/instantclick.min.js" data-no-instant></script>
<script data-no-instant>InstantClick.init();</script>
</body>
<html>
